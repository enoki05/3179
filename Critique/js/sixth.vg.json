{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "background": null,
  "config": {
    "font": "Fira Sans Condensed, sans-serif",
    "view": {"stroke": null}
  },
  "width": 1000,
  "height": 650,
  "title": {
    "text": "Australian Industry Employment: Salary vs Projected Growth",
    "anchor": "middle",
    "fontSize": 20,
    "font": "Fira Sans Condensed, sans-serif",
    "fontWeight": "bold"
  },
  "data": {
    "url": "https://raw.githubusercontent.com/enoki05/3179/refs/heads/main/data/industry_jobs_count.csv"
  },
  "transform": [
    {"calculate": "toNumber(datum.Jobs)", "as": "JobsNumeric"},
    {"calculate": "toNumber(datum.Salary)", "as": "SalaryNumeric"},
    {"calculate": "toNumber(datum.ProjectedGrowth)", "as": "ProjectedGrowthNumeric"}
  ],
  "params": [
    {
      "name": "industrySelect",
      "select": {"type": "point", "fields": ["Class"]},
      "bind": "legend"
    }
  ],
  "mark": {
    "type": "circle",
    "opacity": 0.7,
    "stroke": "white",
    "strokeWidth": 1.5
  },
  "encoding": {
    "x": {
      "field": "ProjectedGrowthNumeric",
      "type": "quantitative",
      "title": "Projected Growth (Jobs in '000)",
      "scale": {"zero": true},
      "axis": {
        "labelFontSize": 11,
        "titleFontSize": 13,
        "grid": true,
        "gridOpacity": 0.3
      }
    },
    "y": {
      "field": "SalaryNumeric",
      "type": "quantitative",
      "title": "Average Salary ($AUD)",
      "scale": {"zero": false},
      "axis": {
        "labelFontSize": 11,
        "titleFontSize": 13,
        "grid": true,
        "gridOpacity": 0.3,
        "format": "$,.0f"
      }
    },
    "size": {
      "field": "JobsNumeric",
      "type": "quantitative",
      "title": "Current Employment ('000)",
      "scale": {
        "type": "sqrt",
        "range": [50, 4000]
      },
      "legend": {
        "orient": "right",
        "labelFontSize": 10,
        "titleFontSize": 11,
        "format": ".0f"
      }
    },
    "color": {
      "field": "Class",
      "type": "nominal",
      "title": "Industry Sector",
      "scale": {
        "scheme": "tableau20"
      },
      "legend": {
        "orient": "bottom",
        "direction": "horizontal",
        "labelFontSize": 10,
        "titleFontSize": 12,
        "symbolSize": 120,
        "labelLimit": 180,
        "columns": 7,
        "offset": 5
      }
    },
    "opacity": {
      "condition": {"param": "industrySelect", "value": 0.85},
      "value": 0.15
    },
    "tooltip": [
      {"field": "Sub-Industry", "type": "nominal", "title": "Sub-Industry"},
      {"field": "Class", "type": "nominal", "title": "Sector"},
      {"field": "JobsNumeric", "type": "quantitative", "title": "Current Jobs ('000)", "format": ",.1f"},
      {"field": "ProjectedGrowthNumeric", "type": "quantitative", "title": "Projected Jobs ('000)", "format": ",.1f"},
      {"field": "SalaryNumeric", "type": "quantitative", "title": "Avg Salary", "format": "$,.0f"}
    ]
  }
}